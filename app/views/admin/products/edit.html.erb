<div class="center">
  <h1><%= t ".title" %></h1>
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <%= form_for :product, url: admin_product_path(@product), method: :patch do |f| %>
        <%= render "admin/products/error_messages" %>

        <%= f.label :name %>
        <%= f.text_field :name, class: "form-control" %>

        <%= f.label :price %>
        <%= f.number_field :price, min: 0, class: "form-control" %>

        <%= f.label :quantity %>
        <%= f.number_field :quantity, min: 0, class: "form-control" %>

        <%= f.label :detail %>
        <%= f.text_area :detail, class: "form-control" %>

        <%= f.label :category %>
        <%= f.select :category_id, Category.all.collect {|c| [c.name, c.id]} %>

        <% if @product.picture? %>
          <%= image_tag @product.picture.url, width: 540 %>
        <% end %>

        <%= f.file_field :picture, accept: "image/jpeg,image/gif,image/png" %>

        <%= f.submit t(".update"), class: "btn btn-success" %>
      <% end %>
    </div>
  </div>
</div>

<script type="text/javascript">
  $('#micropost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 2) {
      alert('Maximum file size is 2MB. Please choose a smaller file.');
    }
  });
</script>
